
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lesson 15: Nearest neighbors &#8212; From Data to Discovery</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Lesson 16: Linear Models" href="lesson16.html" />
    <link rel="prev" title="Lesson 14: Classifier metrics" href="lesson14.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">From Data to Discovery</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../landing_page.html">
   From Data to Discovery
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Reference
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../reference/r_basics.html">
   R basics
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../reference/arithmetic.html">
     Arithmetic with numbers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../reference/variables.html">
     Variables
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../reference/data_types.html">
     Data types
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../reference/vectors.html">
     Vectors
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../reference/vectors_numerical.html">
     Numerical Vectors
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../reference/data.html">
   Exploring Data
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../reference/data_loading.html">
     Loading data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../reference/data_frames.html">
     Working with data frames
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../reference/dplyr_library.html">
     dplyr Library
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../reference/ggplot2_library.html">
     ggplot2
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../reference/ggplot_pretty_plots.html">
     Pretty plots
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/numerical_models.html">
   Numeric Models
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/outside_sources.html">
   Other References
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  In-Class Exercises
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="lesson01.html">
   Lesson 1: Introduction to R and JupyterHub
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lesson02.html">
   Lesson 2: Variables and Vectors
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lesson03.html">
   Lesson 3: Data sets and more vectors
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lesson04.html">
   Lesson 4: Mutate, arrange, piping
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lesson05.html">
   Lesson 5: Select columns and filter rows
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lesson06.html">
   Lesson 6: Group, summarize and visualize
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lesson07.html">
   Lesson 7: Labels, themes and scatter plots
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lesson08.html">
   Lesson 8: Colors and histograms
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lesson10.html">
   Lesson 10:  Practice with conditionals
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lesson11.html">
   Lesson 11 - Functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lesson12.html">
   Lesson 12: Vectorization
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lesson13.html">
   Lesson 13: Evaluating a classifier
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lesson14.html">
   Lesson 14: Classifier metrics
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Lesson 15: Nearest neighbors
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lesson16.html">
   Lesson 16: Linear Models
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lesson18.html">
   Lesson 18: Nonlinear models continued
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lesson19.html">
   Lesson 19: Correlation and MSE
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lesson22.html">
   Lesson 22 -  Bootstrap sampling
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Homework
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../homework/homework_0.html">
   Homework 0
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../homework/homework_01.html">
   Homework 1
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../homework/homework_02.html">
   Homework 2
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../homework/homework_03.html">
   Homework 3
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../homework/homework_04.html">
   Homework 4
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../homework/homework_05.html">
   Homework 5
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../homework/homework_06.html">
   Homework 6
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../homework/homework_07.html">
   Homework 7
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Lab worksheets
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../labs/lab_01.html">
   Lab 1 Worksheet
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../labs/lab_02.html">
   Lab 2 Worksheet
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../labs/lab_03.html">
   Lab 3 Worksheet
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../labs/lab_04.html">
   Lab 4 Worksheet
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../labs/lab_05.html">
   Lab 5 Worksheet
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../labs/lab_06.html">
   Lab 6 Worksheet
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../labs/lab_07.html">
   Lab 7 Worksheet
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../labs/lab_08.html">
   Lab 8 Worksheet
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../labs/lab_09.html">
   Lab 9 Worksheet
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../labs/lab_10.html">
   Lab 10 Worksheet
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../labs/lab_11.html">
   Lab 11 Worksheet
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/in-class_exercises/lesson15.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        
        <a class="jupyterhub-button" href="https://coreua-111001-spring.rcnyu.org/hub/user-redirect/git-pull?repo=https://github.com/nyumathclinic/core-ua_111_course_book&urlpath=tree/core-ua_111_course_book/in-class_exercises/lesson15.ipynb&branch=master"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch JupyterHub" data-toggle="tooltip"
                data-placement="left"><img class="jupyterhub-button-logo"
                    src="../_static/images/logo_jupyterhub.svg"
                    alt="Interact on JupyterHub">JupyterHub</button></a>
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-1-knn-classifier">
   Part 1: knn classifier
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-1-set-up">
     Exercise 1 - Set up
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-2-five-nearest-neighbors">
     Exercise 2 - Five nearest neighbors
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-2-compare-effectiveness">
   Part 2: Compare effectiveness
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-3-measure-effectiveness">
     Exercise 3 - Measure effectiveness
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-4-effectiveness-of-if-statement-classifier">
     Exercise 4 - Effectiveness of if-statement classifier
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Lesson 15: Nearest neighbors</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-1-knn-classifier">
   Part 1: knn classifier
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-1-set-up">
     Exercise 1 - Set up
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-2-five-nearest-neighbors">
     Exercise 2 - Five nearest neighbors
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-2-compare-effectiveness">
   Part 2: Compare effectiveness
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-3-measure-effectiveness">
     Exercise 3 - Measure effectiveness
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-4-effectiveness-of-if-statement-classifier">
     Exercise 4 - Effectiveness of if-statement classifier
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="lesson-15-nearest-neighbors">
<span id="lesson15"></span><h1>Lesson 15: Nearest neighbors<a class="headerlink" href="#lesson-15-nearest-neighbors" title="Permalink to this headline">¶</a></h1>
<p>These exercises are to help you check your understanding during class. They will not be collected.</p>
<div class="section" id="part-1-knn-classifier">
<h2>Part 1: knn classifier<a class="headerlink" href="#part-1-knn-classifier" title="Permalink to this headline">¶</a></h2>
<div class="section" id="exercise-1-set-up">
<h3>Exercise 1 - Set up<a class="headerlink" href="#exercise-1-set-up" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Run the code in the first cell below to load the packages that that we will use today.</p></li>
<li><p>Run the code in the second cell below to load the cancer data and convert the Class variable into a factor.</p></li>
<li><p>Create a data frame called <code class="docutils literal notranslate"><span class="pre">training_data</span></code> with the first 400 observations from the cancer data.</p></li>
<li><p>Split the remaining observations from the cancer data set in two two data frames of approximately the same size called <code class="docutils literal notranslate"><span class="pre">test_knn</span></code> and <code class="docutils literal notranslate"><span class="pre">test_rect</span></code>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># load the dypyr and ggplot2 packages</span>
<span class="nf">library</span><span class="p">(</span><span class="s">&#39;dplyr&#39;</span> <span class="p">,</span> <span class="n">warn.conflicts</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">)</span>
<span class="nf">library</span><span class="p">(</span><span class="s">&#39;class&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span>Error in library(&quot;class&quot;): there is no package called ‘class’
Traceback:

1. library(&quot;class&quot;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">cancer</span> <span class="o">&lt;-</span> <span class="nf">read.csv</span><span class="p">(</span><span class="s">&#39;~/shared/data/cancer.csv&#39;</span><span class="p">)</span>
<span class="n">cancer</span><span class="o">$</span><span class="n">Class</span> <span class="o">&lt;-</span> <span class="nf">factor</span><span class="p">(</span><span class="n">cancer</span><span class="o">$</span><span class="n">Class</span><span class="p">,</span>
                           <span class="n">levels</span><span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">1</span><span class="p">),</span>
                           <span class="n">labels</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s">&#39;benign&#39;</span><span class="p">,</span> <span class="s">&#39;cancer&#39;</span><span class="p">)</span>
                          <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="exercise-2-five-nearest-neighbors">
<h3>Exercise 2 - Five nearest neighbors<a class="headerlink" href="#exercise-2-five-nearest-neighbors" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Create a data frame called <code class="docutils literal notranslate"><span class="pre">training_attributes</span></code> that contains only the Clump.Thickness and Marginal.Adhesion variables from <code class="docutils literal notranslate"><span class="pre">training_data</span></code>.</p></li>
<li><p>Create a variable called <code class="docutils literal notranslate"><span class="pre">training_lables</span></code> that contains the values of the Class column from <code class="docutils literal notranslate"><span class="pre">training_data</span></code>.</p></li>
<li><p>Create a data frame called <code class="docutils literal notranslate"><span class="pre">test_attributes</span></code> that contains only the Clump.Thickness and Marginal.Adhesion variables from <code class="docutils literal notranslate"><span class="pre">test_knn</span></code>.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">knn()</span></code> to find the predicted classes fro the test data based on each observations five nearest neighbors. Store the predicted classes as a column called <code class="docutils literal notranslate"><span class="pre">Prediction</span></code> in <code class="docutils literal notranslate"><span class="pre">test_knn</span></code>.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">head()</span></code> to look at the first four predicted classes.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">knn(TRAININGATTRIBUTES,</span> <span class="pre">TESTATTREIBUTES,</span> <span class="pre">TRAININGLABELS,</span> <span class="pre">k</span> <span class="pre">=</span> <span class="pre">NUMBER)</span></code></p>
</div>
</div>
<div class="section" id="part-2-compare-effectiveness">
<h2>Part 2: Compare effectiveness<a class="headerlink" href="#part-2-compare-effectiveness" title="Permalink to this headline">¶</a></h2>
<div class="section" id="exercise-3-measure-effectiveness">
<h3>Exercise 3 - Measure effectiveness<a class="headerlink" href="#exercise-3-measure-effectiveness" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Compute the for measures of effectiveness for the knn predictions form Exercise 2.</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\text{Accuracy} = \frac{\text{# correct predictions}}{\text{# of observations}}\]</div>
<div class="math notranslate nohighlight">
\[\text{Precision} = \frac{\text{# true positive predictions}}{\text{# of positive predictions}}\]</div>
<div class="math notranslate nohighlight">
\[\text{True positive rate} = \frac{\text{# true positive predictions}}{\text{# positive cases}}\]</div>
<div class="math notranslate nohighlight">
\[\text{True negative rate}  = \frac{\text{# true negative predictions}}{\text{# negative cases}}\]</div>
</div>
<div class="section" id="exercise-4-effectiveness-of-if-statement-classifier">
<h3>Exercise 4 - Effectiveness of if-statement classifier<a class="headerlink" href="#exercise-4-effectiveness-of-if-statement-classifier" title="Permalink to this headline">¶</a></h3>
<p>We would like to compare the effectiveness of the if-statement classifier from Lesson 14 to that of the knn classifier from Exercise 2. We also want to avoid over fitting the classifiers to the test data. To do this, we will measure the effectiveness of each classifier on different halves of the test data.</p>
<p>In Exercise 3, you measured the effectiveness of the knn classifier on one half of the test data, <code class="docutils literal notranslate"><span class="pre">test_knn</span></code>. In lesson 14, we measured the effectiveness of our if-statement classifier on all of the test data.</p>
<ul class="simple">
<li><p>Alter the code from lesson 14 so that it measures the effectiveness of the if-statement classifier on the other half of the test data, <code class="docutils literal notranslate"><span class="pre">test_rect</span></code>.</p></li>
<li><p>Compare the effectiveness measures of these two classifiers. It what ways is the if-statement classifier stronger which what ways is the knn classifier stronger?</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Code from Lesson 14</span>

<span class="c1"># a is the marginal adhesion</span>
<span class="c1"># t is the thickness</span>

<span class="n">classifier</span> <span class="o">&lt;-</span> <span class="nf">function </span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">){</span>
    <span class="nf">if</span><span class="p">(</span><span class="n">a</span><span class="o">&gt;</span><span class="m">4</span><span class="p">){</span>
        <span class="n">Class</span> <span class="o">&lt;-</span> <span class="s">&#39;cancer&#39;</span> 
    <span class="p">}</span> <span class="n">else</span> <span class="nf">if </span><span class="p">(</span><span class="n">t</span> <span class="o">&gt;</span> <span class="m">6</span><span class="p">){</span>
        <span class="n">Class</span> <span class="o">&lt;-</span> <span class="s">&#39;cancer&#39;</span>
    <span class="p">}</span> <span class="n">else</span> <span class="p">{</span>
        <span class="n">Class</span> <span class="o">&lt;-</span> <span class="s">&#39;benign&#39;</span>
    <span class="p">}</span>
    <span class="n">Class</span>
<span class="p">}</span>
<span class="n">classifier</span> <span class="o">&lt;-</span> <span class="nf">Vectorize</span><span class="p">(</span><span class="n">classifier</span><span class="p">)</span>

<span class="n">test</span> <span class="o">&lt;-</span> <span class="nf">mutate</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">Prediction</span> <span class="o">=</span> <span class="nf">classifier</span><span class="p">(</span><span class="n">Marginal.Adhesion</span><span class="p">,</span> <span class="n">Clump.Thickness</span><span class="p">))</span>
<span class="n">test</span> <span class="o">&lt;-</span> <span class="nf">select</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">Marginal.Adhesion</span><span class="p">,</span> <span class="n">Clump.Thickness</span><span class="p">,</span> <span class="n">Prediction</span><span class="p">,</span> <span class="n">Class</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Code from Lesson 14 cnt.</span>
<span class="n">class</span> <span class="o">&lt;-</span> <span class="n">test</span><span class="o">$</span><span class="n">Class</span>
<span class="n">prediction</span> <span class="o">&lt;-</span> <span class="n">test</span><span class="o">$</span><span class="n">Prediction</span>

<span class="n">fn</span> <span class="o">&lt;-</span> <span class="nf">sum</span><span class="p">(</span><span class="n">class</span> <span class="o">!=</span> <span class="n">prediction</span> <span class="o">&amp;</span> <span class="n">prediction</span> <span class="o">==</span> <span class="s">&#39;benign&#39;</span><span class="p">)</span> <span class="c1">## false negative</span>
<span class="n">fp</span> <span class="o">&lt;-</span> <span class="nf">sum</span><span class="p">(</span><span class="n">class</span> <span class="o">!=</span> <span class="n">prediction</span> <span class="o">&amp;</span> <span class="n">prediction</span> <span class="o">==</span> <span class="s">&#39;cancer&#39;</span><span class="p">)</span> <span class="c1">## false positive</span>
<span class="n">tn</span> <span class="o">&lt;-</span> <span class="nf">sum</span><span class="p">(</span><span class="n">class</span> <span class="o">==</span> <span class="n">prediction</span> <span class="o">&amp;</span> <span class="n">prediction</span> <span class="o">==</span> <span class="s">&#39;benign&#39;</span><span class="p">)</span> <span class="c1">## true negative</span>
<span class="n">tp</span> <span class="o">&lt;-</span> <span class="nf">sum</span><span class="p">(</span><span class="n">class</span> <span class="o">==</span> <span class="n">prediction</span> <span class="o">&amp;</span> <span class="n">prediction</span> <span class="o">==</span> <span class="s">&#39;cancer&#39;</span><span class="p">)</span> <span class="c1">## true posive</span>

<span class="c1"># Accuracy </span>
<span class="p">(</span><span class="n">tp</span> <span class="o">+</span> <span class="n">tn</span><span class="p">)</span><span class="o">/</span> <span class="p">(</span><span class="n">tp</span> <span class="o">+</span> <span class="n">tn</span> <span class="o">+</span> <span class="n">fp</span> <span class="o">+</span> <span class="n">fn</span><span class="p">)</span>

<span class="c1"># Precision</span>
<span class="n">tp</span> <span class="o">/</span> <span class="p">(</span><span class="n">tp</span> <span class="o">+</span> <span class="n">fp</span><span class="p">)</span>

<span class="c1"># True positive rate</span>
<span class="n">tp</span> <span class="o">/</span> <span class="p">(</span><span class="n">tp</span> <span class="o">+</span> <span class="n">fn</span><span class="p">)</span>

<span class="c1"># True negative rate</span>
<span class="n">tn</span> <span class="o">/</span> <span class="p">(</span><span class="n">tn</span> <span class="o">+</span> <span class="n">fp</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">0.957746478873239</div><div class="output text_html">0.939393939393939</div><div class="output text_html">0.885714285714286</div><div class="output text_html">0.981308411214953</div></div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "r"
        },
        kernelOptions: {
            kernelName: "ir",
            path: "./in-class_exercises"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'ir'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="lesson14.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Lesson 14: Classifier metrics</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="lesson16.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Lesson 16: Linear Models</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Corrin Clarkson<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>